<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Address</title>
    <script src="appearance.js" defer></script>
    <link rel="stylesheet" href="appearance.css">

    <style>
      body {
    font-family: Arial, sans-serif;
    background-color: #ffc0cb; /* Light Pink Background */
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}

  /* Back Button */
  .back-logo {
            position: absolute;
            top: 30px; /* Adjust as needed */
            left: 20px;
        }

        .back-loco img {
            width: 10px; /* Adjust size as needed */
            height: auto;
            cursor: pointer;
        }

        .container {
    width: 90%; /* Make it responsive */
    max-width: 600px; /* Increase the width */
    background: #fff; /* White Container */
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    margin-top: 40px; /* Adjust this value as needed */
}


h2 {
    text-align: center;
    font-size: 20px;
}

/* Styling for form group */
.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
}

input[type="text"], input[type="number"] {
    width: 95%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none; /* Remove default outline */
    transition: border-color 0.3s ease-in-out;
}

input[type="text"]:focus, input[type="number"]:focus {
    border: 2px solid rgb(255, 172, 172); /* Change this color */
    outline: none; /* Removes the default blue outline */
}

input[type="radio"] {
    accent-color: #ff69b4; /* Pink color */
    width: 18px;
    height: 18px;
    cursor: pointer;
    appearance: none; /* Removes default radio styling */
    border: 2px solid #000000; /* Pink border */
    border-radius: 50%; /* Ensures circular shape */
    display: inline-block;
    position: relative;
}

input[type="radio"]::before {
    content: "";
    width: 10px;
    height: 10px;
    background-color: #ff69b4; /* Inner pink dot */
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
}

input[type="radio"]:checked::before {
    display: block; /* Show inner dot only when selected */
}


.dropdown-container {
    border: 1px solid #ccc;
    background-color: #fff;
    max-height: 150px;
    overflow-y: auto;
    position: absolute;
    width: 90%;
    max-width: 90%;
    left: 5%;
    z-index: 1;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 5px;
    
    /* Hide scrollbar for Webkit (Chrome, Safari) */
    scrollbar-width: none; /* For Firefox */
    -ms-overflow-style: none; /* For Internet Explorer */
}

.dropdown-container::-webkit-scrollbar {
    display: none; /* For Chrome, Safari */
}


.dropdown-item {
    padding: 8px;
    cursor: pointer;
    white-space: nowrap; /* Prevents text from breaking */
}

.dropdown-item:hover {
    background-color: #e0e0e0;
}

/* Default button styling */
.btn {
    width: 100%;
    background: #fcb0b0; /* Light pink */
    color: #fff;
    padding: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
}

/* Hover effect for all buttons */
.btn:hover {
    background-color: #ff9797; /* Slightly darker pink */
}

/* Special styling for "Use My Location" button */
#useLocationBtn {
    background-color: #4CAF50; /* Green color */
}

#useLocationBtn:hover {
    background-color: #45a049; /* Darker green on hover */
}


    </style>
</head>
<body>

    <div class="back-logo">
        <a href="profile.html" class="back-log">
            <div class="back-loco">
                <img src="static/pngkey.com-menu-icon-png-9694963.png" alt="back-button">
            </div>
        </a>
    </div>

    <body>
        <div class="container">
            <h2>Create Address</h2>
    
            <div class="form-group">
                <label>Pincode:</label>
                <input type="number" id="pincodeInput" placeholder="Enter Pincode">
            </div>
    
            <div class="form-group">
                <label>State:</label>
                <input type="text" id="stateInput" placeholder="Select State">
            </div>
    
            <div class="form-group">
                <label>City:</label>
                <input type="text" id="cityInput" placeholder="Select City">
            </div>
    
            <div class="form-group">
                <label>House No. / Building Name:</label>
                <input type="text" id="houseNoInput" placeholder="Enter House/Building Name">
            </div>
    
            <div class="form-group">
                <label>Road Name, Area, Colony:</label>
                <input type="text" id="roadNameInput" placeholder="Enter Road/Area/Colony">
            </div>
    
            <div class="form-group">
                <label>Type of Address:</label>
                <input type="radio" id="home" name="addressType" value="Home"> Home
                <input type="radio" id="work" name="addressType" value="Work"> Work
            </div>
    
            <button class="btn" id="useLocationBtn">Use My Location</button>
            <button class="btn" id="saveAddressBtn">Save Address</button>
        </div>
    
    </body>
    
    <script>

        // addresscreate.html JavaScript Implementation

document.addEventListener("DOMContentLoaded", function () {
    const stateInput = document.getElementById("stateInput");
    const cityInput = document.getElementById("cityInput");
    const useLocationBtn = document.getElementById("useLocationBtn");

    // Sample Data for States and Cities
    const states = [
    "Andhra Pradesh", "Arunachal Pradesh", "Assam", "Bihar", "Chhattisgarh", "Goa", 
    "Gujarat", "Haryana", "Himachal Pradesh", "Jharkhand", "Karnataka", "Kerala", 
    "Madhya Pradesh", "Maharashtra", "Manipur", "Meghalaya", "Mizoram", "Nagaland", 
    "Odisha", "Punjab", "Rajasthan", "Sikkim", "Tamil Nadu", "Telangana", "Tripura", 
    "Uttar Pradesh", "Uttarakhand", "West Bengal", 
    "Andaman and Nicobar Islands", "Chandigarh", "Dadra and Nagar Haveli and Daman and Diu", 
    "Lakshadweep", "Delhi", "Puducherry", "Ladakh", "Jammu and Kashmir"
];

const cities = {
    "Andhra Pradesh": ["Visakhapatnam", "Vijayawada", "Guntur", "Nellore", "Tirupati"],
    "Arunachal Pradesh": ["Itanagar", "Naharlagun", "Tawang", "Ziro", "Bomdila"],
    "Assam": ["Guwahati", "Dibrugarh", "Silchar", "Jorhat", "Tezpur"],
    "Bihar": ["Patna", "Gaya", "Bhagalpur", "Muzaffarpur", "Purnia"],
    "Chhattisgarh": ["Raipur", "Bhilai", "Bilaspur", "Korba", "Durg"],
    "Goa": ["Panaji", "Margao", "Vasco da Gama", "Mapusa", "Ponda"],
    "Gujarat": ["Ahmedabad", "Surat", "Vadodara", "Rajkot", "Bhavnagar"],
    "Haryana": ["Gurgaon", "Faridabad", "Panipat", "Ambala", "Rohtak"],
    "Himachal Pradesh": ["Shimla", "Manali", "Dharamshala", "Solan", "Mandi"],
    "Jharkhand": ["Ranchi", "Jamshedpur", "Dhanbad", "Bokaro", "Hazaribagh"],
    "Karnataka": ["Bangalore", "Mysore", "Mangalore", "Hubli", "Belgaum"],
    "Kerala": ["Kochi", "Trivandrum", "Kozhikode", "Thrissur", "Kollam"],
    "Madhya Pradesh": ["Indore", "Bhopal", "Gwalior", "Jabalpur", "Ujjain"],
    "Maharashtra": ["Mumbai", "Pune", "Nagpur", "Nashik", "Aurangabad"],
    "Manipur": ["Imphal", "Thoubal", "Bishnupur", "Churachandpur", "Ukhrul"],
    "Meghalaya": ["Shillong", "Tura", "Nongstoin", "Jowai", "Baghmara"],
    "Mizoram": ["Aizawl", "Lunglei", "Champhai", "Serchhip", "Kolasib"],
    "Nagaland": ["Kohima", "Dimapur", "Mokokchung", "Wokha", "Tuensang"],
    "Odisha": ["Bhubaneswar", "Cuttack", "Rourkela", "Sambalpur", "Berhampur"],
    "Punjab": ["Amritsar", "Ludhiana", "Patiala", "Jalandhar", "Bathinda"],
    "Rajasthan": ["Jaipur", "Jodhpur", "Udaipur", "Kota", "Bikaner"],
    "Sikkim": ["Gangtok", "Namchi", "Mangan", "Gyalshing", "Ravangla"],
    "Tamil Nadu": ["Chennai", "Coimbatore", "Madurai", "Tiruchirappalli", "Salem"],
    "Telangana": ["Hyderabad", "Warangal", "Nizamabad", "Karimnagar", "Khammam"],
    "Tripura": ["Agartala", "Udaipur", "Dharmanagar", "Kailashahar", "Belonia"],
    "Uttar Pradesh": ["Lucknow", "Kanpur", "Agra", "Varanasi", "Meerut"],
    "Uttarakhand": ["Dehradun", "Haridwar", "Rishikesh", "Nainital", "Haldwani"],
    "West Bengal": ["Kolkata", "Durgapur", "Siliguri", "Asansol", "Howrah"],

    // Union Territories
    "Andaman and Nicobar Islands": ["Port Blair", "Havelock Island", "Neil Island"],
    "Chandigarh": ["Chandigarh"],
    "Dadra and Nagar Haveli and Daman and Diu": ["Daman", "Diu", "Silvassa"],
    "Delhi": ["New Delhi", "Dwarka", "Karol Bagh", "Saket", "Rohini"],
    "Puducherry": ["Puducherry", "Karaikal", "Mahe", "Yanam"],
    "Ladakh": ["Leh", "Kargil"],
    "Jammu and Kashmir": ["Srinagar", "Jammu", "Anantnag", "Baramulla", "Udhampur"],
    "Lakshadweep": ["Kavaratti", "Agatti", "Minicoy", "Amini", "Kadmat"]
};


    // Populate State Dropdown
    stateInput.addEventListener("focus", function () {
        showDropdown(stateInput, states);
    });

    // Populate City Dropdown Based on Selected State
    stateInput.addEventListener("input", function () {
        const selectedState = stateInput.value;
        if (cities[selectedState]) {
            showDropdown(cityInput, cities[selectedState]);
        }
    });

    // Show Dropdown Function
    function showDropdown(input, options) {
        const dropdown = document.createElement("div");
        dropdown.className = "dropdown-container";

        options.forEach(option => {
            const item = document.createElement("div");
            item.textContent = option;
            item.className = "dropdown-item";
            item.onclick = function () {
                input.value = option;
                dropdown.remove();
            };
            dropdown.appendChild(item);
        });

        input.parentElement.appendChild(dropdown);
    }

    // Use My Location Functionality
    useLocationBtn.addEventListener("click", function () {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                fetch(`https://nominatim.openstreetmap.org/reverse?lat=${position.coords.latitude}&lon=${position.coords.longitude}&format=json`)
                    .then(response => response.json())
                    .then(data => {
                        stateInput.value = data.address.state || "";
                        cityInput.value = data.address.city || "";
                    })
                    .catch(err => alert("Location fetch failed."));
            });
        } else {
            alert("Geolocation is not supported by your browser.");
        }
    });

    // Save Address
    document.getElementById("saveAddressBtn").addEventListener("click", function () {
        const addressData = {
            pincode: document.getElementById("pincodeInput").value.trim(),
            state: stateInput.value.trim(),
            city: cityInput.value.trim(),
            houseNo: document.getElementById("houseNoInput").value.trim(),
            roadName: document.getElementById("roadNameInput").value.trim(),
            addressType: document.querySelector('input[name="addressType"]:checked')?.value || ""
        };

        for (let key in addressData) {
            if (!addressData[key]) {
                alert(`${key} is required.`);
                return;
            }
        }

        let savedAddresses = JSON.parse(localStorage.getItem("addresses")) || [];
        if (savedAddresses.length >= 2) {
            alert("You can only save up to 2 addresses.");
            return;
        }
        savedAddresses.push(addressData);
        localStorage.setItem("addresses", JSON.stringify(savedAddresses));

        alert("Address saved successfully!");
        window.location.href = "profile.html"; // Redirect back to main page
    });
});

    </script>
</body>
</html>
